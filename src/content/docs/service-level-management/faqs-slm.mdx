---
title: 'Service level management: Questions and next steps'
tags:
  - Full-Stack Observability
  - Observe everything
  - Get started
  - Service level management
metaDescription: FAQs and next steps for our SLM product.
---

import slmEditMenu2 from 'images/slm_screenshot-crop_edit-menu-option.png'

import slmAddtoDashboard from 'images/slm_screenshot-crop_add-to-dashboard.png'

import slmSummaryEdit from 'images/slm_screenshot-crop_summary-edit-button.png'

import slmAlertPolicy from 'images/slm-alert-policy.png'



## What aggregation functions are supported? [#aggregation-functions]

At the moment the two aggregation functions that we support are `count()` and `sum()`. The `count()` function is recommended to be used with event data, when you just count the number of valid/good/bad events, while sum() would be helpful if you have pre-aggregated counters in event data or dimensional metrics.

Example using `count()`:
```sql
FROM: JavaScriptError
SELECT count(*)
WHERE: entityGuid = '{entityGuid}' AND firstErrorInSession IS true
```
Example using `sum()`:
```sql
FROM ServerlessSample 
SELECT sum(provider.errors.Sum) 
WHERE awsAccountId = 'XXX'  And provider LIKE 'LambdaFunction%'
```

## How can I query the percentage of a dimensional metric? [#percentage-metric]

Here’s an example of the percentage-based success rate, let’s convert it into the valid/good events for SLI:

```sql
FROM Metric
SELECT percentage(sum(scrooge_do_expire_count), 
WHERE status = 'success') AS 'Success Rate'
WHERE env='production' 
AND status != 'attempt'
```

For the valid queries we would just copy the outside `WHERE` clause:

```sql
FROM Metric
SELECT sum(scrooge_do_expire_count))
WHERE env='production'
AND status != 'attempt'
```
While the good event would be the outside `WHERE` clause and `WHERE` clause from the percentage function:

```sql
FROM Metric
SELECT sum(scrooge_do_expire_count))
WHERE env='production'
AND status != 'attempt'
AND status = 'success'
```

## How does New Relic calculate the remaining error budget? [#error-budget]

The remaining error budget indicates what percentage of requests could still have a bad response over the SLO period without compromising the objective. Therefore, the total amount of tolerated bad responses will vary with the throughput of requests.

## Why do I have a Service Levels default alert policy? [#alert-policy]

The Service Levels default alert policy was introduced, at account level, so that the service levels health status is based on its remaining error budget. This improves your experience when using other New Relic products such as the Navigator, Workloads and others.

<img
  title="SLM Alert policy"
  alt="SLM Alert policy"
  src={slmAlertPolicy}
/>

This alert policy will not trigger any notification, and in case you prefer not to have the entity health based on its error budget consumption, you can easily delete this policy. Although, deleting the policy is permanent and it will affect existing and new service levels.

## How can I view the queries that define an SLI from the UI? [#view-query-ui]

To view the queries that define an SLI, you can click on the **...** menu on the SLI row, then select the **Edit** option. The queries will show at the top-right corner.

<img
  title="SLI edit menu.png"
  alt="SLI edit menu"
  src={slmEditMenu2}
/>

You can also find them through the summary page, by clicking Edit.
    
<img
  title="Edit SLIs summary page.png"
  alt="Edit SLIs summary page"
  src={slmSummaryEdit}
/>

## How can I view the queries that define an SLI through the API? [#view-query-api]

To view the queries that define an SLI through the API, use [Nerdgraph](/docs/apis/nerdgraph/examples/nerdgraph-slm/#retrieve-config). In order to view the SLI configuration, you'll need to know the GUID of the entity the SLI is attached to, and replace it in the following query:

```graphql
{
  actor {
    entity(guid: "{entityGuid}") {
      serviceLevel {
        indicators {
          events {
            badEvents {
              where
              from
            }
            goodEvents {
              from
              where
            }
            validEvents {
              from
              where
            }
          }
          name
        }
      }
    }
  }
}
```

As a response you are going to receive all the SLIs attached to the entity, the SLI name, and the queries. Keep in mind that either `goodEvents` or `badEvents` is going to have content, depending on the configuration of the SLI.

## Can I chart the SLI attainment on a dashboard? [#sli-attainment-dashboard]

You can chart SLI attainment time series on your custom dashboards using the following query:

```sql
FROM Metric SELECT clamp_max((count(newrelic.sli.valid) - count(newrelic.sli.bad)) / count(newrelic.sli.valid) * 100, 100) AS 'SLI attainment' WHERE sli.id = '<sli.id>' UNTIL 2 MINUTES AGO TIMESERIES AUTO
```

Where `sli.id` is the SLI identifier. The easiest way to add a chart like this to your dashboard is by using the **Add to dashboard** option, available on the **Details** view.

<img
  title="Add SLI attainment to dashboard.png"
  alt="Add SLI attainment to dashboard"
  src={slmAddtoDashboard}
/>

Alternatively, you can find the SLI id and SLI attainment query through the Nerdgraph API with the following query:

```graphql
{
  actor {
    entity(guid: "{entityGuid}") {
      serviceLevel {
        indicators {
          name
          id
          resultQueries {
            indicator {
              nrql
            }
          }
        }
      }
    }
  }
}
```

Use the `entityGuid` of the entity that's associated with the SLI. On the query results, you’ll get the SLI id in the `serviceLevel.indicators.id` field.

## Why do the SLO periods only include complete weeks? [#slo-periods-complete-weeks]

SLO compliance results for rolling time windows are more consistent when they include complete weeks. This way, the calculation always includes the same amount of weekends, and any weekly seasonality doesn't impact the results depending on which day of the week you look at SLOs.

## How many SLIs can I create on an account?

You can create a maximum of 500 SLIs on an account.

## How can I learn best practices for setting up and using SLM?

For some tips on SLM, see our [observability maturity guide on optimizing SLM](/docs/new-relic-solutions/observability-maturity/uptime-performance-reliability/optimize-slm-guide).
